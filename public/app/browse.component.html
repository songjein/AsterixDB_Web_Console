<h2>
{{globals.selectedDataset}}
</h2>

<h1 *ngIf="!data && globals.selectedDataset">
	Loading...
</h1>

<h1 *ngIf="!globals.selectedDataverse">
	Empty Result, please select dataverse
</h1>

<h1 *ngIf="!globals.selectedDataset">
	Please select dataset
</h1>

<table >
	<tr>
		<th *ngFor="let col of cols" (click)="expandAll(col)">
			{{ col }}
		</th>
	</tr>
	<template ngFor let-d [ngForOf]="data" let-r="index" >
		<tr class="row">
			<td *ngFor="let k of d | keys; let c=index" (click)="clickCell(r,c)">
				<span *ngIf="d[k] | isObject">
					<b>Nested Data</b>
				</span>
				<span *ngIf="!(d[k] | isObject)">
					{{ d[k] }}
				</span>
			</td>
		</tr>
		<tr *ngIf="expansions[r]"> 
			<td [attr.colspan]="100" (click)="clickCell(r,c,true)">
				<pre [innerHTML]=" expansions[r] | prettyjson:3"></pre>
			</td>
		</tr>
	</template>
</table>
